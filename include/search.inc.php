<?php// kyex 22/6/2003function khat_search($queryarray, $andor, $limit, $offset, $userid){	global $xoopsDB;	$ret = array();	if ( $userid != 0 ) {		return $ret;	}	error_reporting(E_ALL);	$module_handler =& xoops_gethandler('module');    $khatModule =& $module_handler->getByDirname("khat");    $config_handler = & xoops_gethandler( 'config' );    $khatModuleConfig = & $config_handler->getConfigsByCat( 0, $khatModule->getVar( 'mid' ) );    include_once (XOOPS_ROOT_PATH."/modules/khat/class/class.".strtolower($khatModuleConfig["mode"]).".php");	error_reporting(E_ALL);    $khat=new $khatModuleConfig["mode"];        return $khat->search($queryarray,$andor,$limit,$offset,$userid);}?>